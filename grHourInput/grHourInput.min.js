"use strict";!function(){angular.module("GRHI",[])}(),function(){function t(){function t(t,n){if(e(t))return t;var a=angular.extend({},i,n),l=u[a.expected||"default"](t),s=Math.floor(l),c=o(l*r%r),m=(s>0?s+"h ":"")+(c>0?c+"m":"");return s<=a.maxHours?c+s<0?a.customHours["0h 0m"]||"0h 0m":a.customHours[m]||m.trim():a.maxHours+" 59m"}return t}angular.module("GRHI").filter("floatToHourFormat",t);var r=60,e=function(t){return!/^-?[0-9]*(\.|,)?[0-9]*$/i.test(t)},n=function(t){return Number(t.toString().replace(",","."))},o=function(t,r){return Number(t.toFixed(r||0))},i={maxHours:1/0,customHours:{}},u={milliseconds:function(t){return n(t)/60/60/1e3},seconds:function(t){return n(t)/60/60},minutes:function(t){return n(t)/60},default:n};t.$inject=[]}(),function(){angular.module("GRHI").filter("formatToMillis",function(){return function(t){var r=function(t){return/^\s*[0-9]+h\s*[0-9]+m$/i.test(t)?t.trim().replace(/h/i,"h ").replace(/\s+/g," ").split(/\s/):/^\s*[0-9]+h\s*$/i.test(t)?[t.trim(),0]:/^\s*[0-9]+m\s*$/i.test(t)?[0,t.trim()]:void 0}(t);return r?60*r.map(function(t,r){return Number(t.replace(/[hm]/i,""))/Math.pow(60,r)}).reduce(function(t,r){return t+r})*60*1e3:void 0}})}(),function(){function t(t,r){function e(t,e){if(void 0!==t){if(/^[0-9]*:[0-9]*?$/i.test(t)){var u=t.split(":"),a=Number(u[0]),l=Number(u[1]);a=isNaN(a)?0:a,l=isNaN(l)?0:l,t=a+l/i}return/^[1-9]+[0-9]*h\s*[0-9]*m?$/i.test(t)&&(t=o(t)),/^[1-9]+[0-9]*(h|m)$/i.test(t)&&(t=n(t)),r(t,e)}}function n(t){return t+="",t.match(/m/i)?Number(t.replace(/m/i,"")/i):t.match(/h/i)?Number(t.replace(/h/i,"")):void 0}function o(t){return t=t.toString().trim().replace(/\s/g,"").replace(/m/i,"").split(/h/i),Number(t[0])+Number(t[1])/i}var i=60;t.options||(t.options={}),"milliseconds"==t.options.expected&&(t.ngModel=e(t.ngModel/60/1e3,t.options)),t.validateAndParseDateFormat=function(r){var n=e(r.currentTarget.value.trim(),t.options);void 0!==t.ngModel&&(t.ngModel=n)}}angular.module("GRHI").controller("grHourInputController",["$scope","floatToHourFormatFilter",t])}(),function(){function t(t,r,e){var n=["ngModel"];for(var o in e)-1!=n.indexOf(o)&&n.splice(n.indexOf(o),1);if(n.length)throw new Error(n.join(", ")+" are/is required to the directive work properly!")}angular.module("GRHI").directive("grHourInput",function(){return{restrict:"E",replace:!0,template:'<input type="text" data-ng-blur="validateAndParseDateFormat($event);" data-ng-pattern="/\\s*(^\\d+[hm]?\\s*$)|(^\\s*\\d+([\\.,:h]\\s*)(\\d+\\s*$|\\d+[m]\\s*)($))/i">',controller:"grHourInputController",link:t,scope:{ngModel:"=",options:"=?"}}})}();