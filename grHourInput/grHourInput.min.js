"use strict";!function(){angular.module("GRHI",[])}(),function(){function r(){function r(r,i){if(e(r))return r;var u=n(r),a=Math.floor(u),l=o(u*t%t),s=(a>0?a+"h ":"")+(l>0?l+"m":""),c=angular.extend({maxHours:1/0,customHours:{}},i);return a<=c.maxHours?l+a<0?c.customHours["0h 0m"]||"0h 0m":c.customHours[s]||s:c.maxHours+" 59m"}return r}angular.module("GRHI").filter("floatToHourFormat",r);var t=60,e=function(r){return!/^-?[0-9]*(\.|,)?[0-9]*$/i.test(r)},n=function(r){return Number(r.toString().replace(",","."))},o=function(r,t){return Number(r.toFixed(t||0))};r.$inject=[]}(),function(){angular.module("GRHI").filter("formatToMillis",function(){return function(r){var t=function(r){return/^\s*[0-9]+h\s*[0-9]+m$/i.test(r)?r.trim().replace(/h/i,"h ").replace(/\s+/g," ").split(/\s/):/^\s*[0-9]+h\s*$/i.test(r)?[r.trim(),0]:/^\s*[0-9]+m\s*$/i.test(r)?[0,r.trim()]:void 0}(r);return t?60*t.map(function(r,t){return Number(r.replace(/[hm]/i,""))/Math.pow(60,t)}).reduce(function(r,t){return r+t})*60*1e3:void 0}})}(),function(){function r(r,t){function e(r,e){if(void 0!==r){if(/^[0-9]*:[0-9]*?$/i.test(r)){var u=r.split(":"),a=Number(u[0]),l=Number(u[1]);a=isNaN(a)?0:a,l=isNaN(l)?0:l,r=a+l/i}return/^[1-9]+[0-9]*h\s*[0-9]*m?$/i.test(r)&&(r=o(r)),/^[1-9]+[0-9]*(h|m)$/i.test(r)&&(r=n(r)),t(r,e)}}function n(r){return r+="",r.match(/m/i)?Number(r.replace(/m/i,"")/i):r.match(/h/i)?Number(r.replace(/h/i,"")):void 0}function o(r){return r=r.toString().trim().replace(/\s/g,"").replace(/m/i,"").split(/h/i),Number(r[0])+Number(r[1])/i}var i=60;r.options||(r.options={}),"milliseconds"==r.options.expected&&(r.ngModel=e(r.ngModel/60/1e3,r.options)),r.validateAndParseDateFormat=function(t){var n=e(t.currentTarget.value.trim(),r.options);void 0!==r.ngModel&&(r.ngModel=n)}}angular.module("GRHI").controller("grHourInputController",["$scope","floatToHourFormatFilter",r])}(),function(){function r(r,t,e){var n=["ngModel"];for(var o in e)-1!=n.indexOf(o)&&n.splice(n.indexOf(o),1);if(n.length)throw new Error(n.join(", ")+" are/is required to the directive work properly!")}angular.module("GRHI").directive("grHourInput",function(){return{restrict:"E",replace:!0,template:'<input type="text" data-ng-blur="validateAndParseDateFormat($event);" data-ng-pattern="/\\s*(^\\d+[hm]?\\s*$)|(^\\s*\\d+([\\.,:h]\\s*)(\\d+\\s*$|\\d+[m]\\s*)($))/i">',controller:"grHourInputController",link:r,scope:{ngModel:"=",options:"=?"}}})}();