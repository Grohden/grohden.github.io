function FilterOptionModel(e,t,r,n){this.maxHours=e,this.baseMins=t,this.maxString=n,this.minString=r}function defaultOptions(){return new FilterOptionModel(1/0,60)}!function(){"use strict";angular.module("GRHI",[])}(),function(){"use strict";angular.module("GRHI").filter("floatToHourFormat",function(){return function(e,t){t||(t={});var r=t.maxHours||1/0,n=t.baseMinutes||60,i=t.maxString||t.maxHours+"h 59m",o=t.minString;switch(t.expected){case"milliseconds":e=e/60/60/1e3;break;case"seconds":e=e/60/60;break;case"minutes":e/=60}if(!/^[0-9]*(\.|,)?[0-9]*$/i.test(e))return e;e=Number((e+"").replace(",","."));var u=Number((e*n%n).toFixed(0)),a=Math.floor(Number(e));return u>=n&&(a+=Number((u/n).toFixed(0)),u=0),r>=a?u<=0&&a<=0?o:a>0&&u>0?a+"h "+u+"m":(a=a>0?a+"h":"",u=u>0?u+"m":"",a+u):i}})}(),function(){"use strict";angular.module("GRHI").filter("formatToMillis",function(){return function(e){e+="";var t=[0,0],r=!1;return e.match(/m/i)&&e.match(/h/i)&&(r=!0,t=e.replace(/m/i,"").split(/h/i)),e.match(/h/i)&&!r&&(t[0]=e.replace(/h/i,"")),e.match(/m/i)&&!r&&(t[1]=e.replace(/m/i,"")),60*(Number(t[0])+Number(t[1])/60)*60*1e3}})}(),function(){"use strict";function e(e,t){function r(e,r){if(void 0!==e){if(/^[0-9]*:[0-9]*?$/i.test(e)){var o=e.split(":"),u=Number(o[0]),a=Number(o[1]);u=isNaN(u)?0:u,a=isNaN(a)?0:a,e=u+a/r.baseMinutes}return/^[1-9]+[0-9]*h\s*[0-9]*m?$/i.test(e)&&(e=i(e,r.baseMinutes)),/^[1-9]+[0-9]*(h|m)$/i.test(e)&&(e=n(e,r.baseMinutes)),t(e,r)}}function n(e,t){return e+="",e.match(/m/i)?Number(e.replace(/m/i,"")/t):e.match(/h/i)?Number(e.replace(/h/i,"")):void 0}function i(e,t){return e=e.toString().trim().replace(/\s/g,"").replace(/m/i,"").split(/h/i),Number(e[0])+Number(e[1])/t}e.baseMinutes=60,e.maxMinutes=59,e.maxHours=e.maxHour||1/0,e.maxString=e.maxString||e.maxHour+"h 59m",e.convertToMinutesPoint=23,"milliseconds"==e.expected&&(e.ngModel=r(e.ngModel/60/1e3,e)),e.validateAndParseDateFormat=function(t){var n=r(t.currentTarget.value.trim(),e);void 0!==e.ngModel&&(e.ngModel=n)}}angular.module("GRHI").controller("grHourInputController",["$scope","floatToHourFormatFilter",e])}(),function(){"use strict";function e(e,t,r){var n=["ngModel"];"true"==e.preventEnter&&t.on("keypress",function(e){"Enter"==e.key&&e.preventDefault()});for(var i in r)n.indexOf(i)!=-1&&n.splice(n.indexOf(i),1);if(n.length)throw new Error(n.join(", ")+" are/is required to the directive work properly!")}angular.module("GRHI").directive("grHourInput",function(){return{restrict:"E",replace:!0,template:'<input type="text" data-ng-blur="validateAndParseDateFormat($event);" data-ng-pattern="/\\s*(^\\d+[hm]?\\s*$)|(^\\s*\\d+([\\.,:h]\\s*)(\\d+\\s*$|\\d+[m]\\s*)($))/i">',controller:"grHourInputController",link:e,scope:{ngModel:"=",maxHour:"=",preventEnter:"@",expected:"@",minString:"@"}}})}();